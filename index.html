<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>AMÈRE — Salary System</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background:#0f0f0f;
  color:#fff;
  padding:20px;
}
.container {
  max-width:520px;
  margin:auto;
  background:#161616;
  padding:24px;
  border-radius:14px;
}
h1 { font-size:20px; }
label {
  font-size:12px;
  margin-top:14px;
  display:block;
  color:#ccc;
}
select, input {
  width:100%;
  padding:10px;
  margin-top:6px;
  border-radius:8px;
  border:none;
  background:#222;
  color:#fff;
}
button {
  width:100%;
  padding:12px;
  margin-top:20px;
  border:none;
  border-radius:10px;
  background:#7a5cff;
  color:#fff;
  font-weight:bold;
  cursor:pointer;
}
.info {
  margin-top:10px;
  font-size:13px;
  color:#aaa;
}
.hidden { display:none; }

/* SLIP */
#slip {
  background:#fff;
  color:#000;
  padding:30px;
  border-radius:10px;
}
.row {
  display:flex;
  justify-content:space-between;
  margin-bottom:8px;
}
.minus {
  color:#b00020;
}
.total {
  font-size:16px;
  font-weight:bold;
  margin-top:14px;
}
.footer {
  margin-top:30px;
  font-size:12px;
  text-align:center;
  color:#666;
}

@media print {
  body { background:#fff; }
  .container { display:none; }
}
</style>
</head>

<body>

<div class="container">
  <h1>AMÈRE — Salary Input</h1>

  <label>Nama Karyawan</label>
  <select id="employee" onchange="setEmployee()">
    <option value="">Pilih nama</option>
    <option value="gretha">Gretha Livya Wijaya</option>
    <option value="rhiannon">Rhiannon Ainsley Ayla</option>
  </select>

  <div class="info" id="info"></div>

  <label>Bonus Keaktifan</label>
  <input type="number" id="aktif" value="0">

  <label>Bonus Distribusi</label>
  <input type="number" id="distribusi" value="0">

  <label>Bonus Kedisiplinan</label>
  <input type="number" id="disiplin" value="0">

  <label>Penyesuaian Kedisiplinan Waktu</label>
  <input type="number" id="late" value="0">

  <label>Penyesuaian Tanggung Jawab Kerja</label>
  <input type="number" id="error" value="0">

  <button onclick="generate()">Generate Slip Gaji</button>
</div>

<div id="slip" class="hidden">
  <h2 style="text-align:center;">SLIP GAJI — AMÈRE</h2>

  <div class="row"><span>Nama</span><span id="sName"></span></div>
  <div class="row"><span>Posisi</span><span id="sRole"></span></div>
  <div class="row"><span>Status</span><span id="sType"></span></div>
  <div class="row"><span>Tanggal</span><span id="sDate"></span></div>

  <hr>

  <div class="row"><span>Gaji Pokok</span><span id="sBase"></span></div>
  <div class="row"><span>Total Bonus</span><span id="sBonus"></span></div>
  <div class="row"><span>Total Pengurangan</span><span id="sPenalty" class="minus"></span></div>
  <div class="row"><span>Pajak</span><span id="sTax" class="minus"></span></div>

  <div class="total row">
    <span>Total Gaji Diterima</span>
    <span id="sTotal"></span>
  </div>

  <div class="footer">
    Slip ini dihasilkan otomatis oleh sistem AMÈRE
  </div>

  <button onclick="window.print()">Download / Save PDF</button>
</div>

<script>
const PTKP_LIMIT = 4500000;

const employees = {
  gretha: {
    name: "Gretha Livya Wijaya",
    role: "Chocolatier",
    type: "Full Timer",
    base: 6500000,
    max: 8000000,
    taxRate: 0.05
  },
  rhiannon: {
    name: "Rhiannon Ainsley Ayla",
    role: "Marketing",
    type: "Part Timer",
    base: 3000000,
    max: 4500000,
    taxRate: 0.03
  }
};

let emp;

function setEmployee() {
  emp = employees[employee.value];
  if (!emp) return;
  info.innerText =
    `${emp.role} — ${emp.type} | Pokok Rp${emp.base.toLocaleString("id-ID")} | Max Rp${emp.max.toLocaleString("id-ID")}`;
}

function generate() {
  if (!emp) return alert("Pilih karyawan dulu");

  const bonus =
    (+aktif.value) +
    (+distribusi.value) +
    (+disiplin.value);

  const penalty =
    (+late.value) +
    (+error.value);

  if (emp.base + bonus > emp.max) {
    return alert("Total gaji melebihi batas maksimal");
  }

  const gross = emp.base + bonus - penalty;

  let tax = 0;
  if (gross > PTKP_LIMIT) {
    tax = Math.round(gross * emp.taxRate);
  }

  const total = gross - tax;
  const now = new Date();

  sName.innerText = emp.name;
  sRole.innerText = emp.role;
  sType.innerText = emp.type;
  sDate.innerText = now.toLocaleString("id-ID");

  sBase.innerText = "Rp" + emp.base.toLocaleString("id-ID");
  sBonus.innerText = "Rp" + bonus.toLocaleString("id-ID");

  sPenalty.innerText = penalty > 0
    ? "(− Rp" + penalty.toLocaleString("id-ID") + ")"
    : "Rp0";

  sTax.innerText = tax > 0
    ? "(− Rp" + tax.toLocaleString("id-ID") + ")"
    : "Rp0";

  sTotal.innerText = "Rp" + total.toLocaleString("id-ID");

  document.querySelector(".container").style.display = "none";
  slip.classList.remove("hidden");
}
</script>

</body>
</html>
